/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   debug_tests.c                                      :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: ekrebs <ekrebs@student.42.fr>              +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2023/12/07 18:45:37 by ekrebs            #+#    #+#             */
/*   Updated: 2024/02/23 14:32:15 by ekrebs           ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "debug.h"

//TODO : niveaux de verbose 
void gnl(int fd, char *expected)
{
	int status;
	char *got;

	status = -1;
	got = get_next_line(fd);

	if (!expected && !got)
			status = 1;
	if (expected && got)
	{	
		if(!ft_strncmp(got, expected, ft_strlen(expected)))
			status = 1;
	}


	
	if (status == 1)
	{
		COLOR_SUCCESS;
		printf("\t[OK]\n");
		COLOR_DEFAULT;
	}
	else
	{
		COLOR_ERROR;
		printf("\t[KO]\n");
		COLOR_DEFAULT;
	}
	if (status == -1)
	{
		section("--");
		COLOR_WARNING;

		printf("\t(got)\n\t`");
		str_printf_chars(got);
		printf("`\n\n\t`");
		str_printf_chars(expected);
		printf("`\n\t(expected)\n");

		COLOR_DEFAULT;
		section("--");
	}

	free(got);
}

void test_41_no_nl()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/41_no_nl: ");
	fd = open("gnlTester/files/41_no_nl", O_RDWR);
	
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "01234567890123456789012345678901234567890");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL); 
	close(fd);
}

void test_nl()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/nl: ");
	fd = open("gnlTester/files/nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL); 
	close(fd);
}

void test_empty()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/empty: ");
	fd = open("gnlTester/files/empty", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL);
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL); 
	close(fd);
}

void test_invalaid_fd()
{
	int fd;
	int num_test;

	num_test = 1;
	title("Invalid fd: ");
	fd = open("gnlTester/files/empty", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(1000,  NULL);
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(-1,  NULL); close(fd);
	/* 3 */ 
    printf("%d", num_test++); 
    gnl(fd,  NULL);
}
void test_41_with_nl()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/41_with_nl: ");;
	fd = open("gnlTester/files/41_with_nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "0123456789012345678901234567890123456789\n");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, "0");
	/* 3 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL);
	close(fd);
}

void test_42_no_nl()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/42_no_nl: ");
	fd = open("gnlTester/files/42_no_nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "012345678901234567890123456789012345678901");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL);
	close(fd);
}

void test_42_with_nl()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/42_with_nl: ");
	fd = open("gnlTester/files/42_with_nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "01234567890123456789012345678901234567890\n");
	if (BUFFER_SIZE == 42) {
	/* 2 */ char c = 0; read(fd, &c, 1); //check(c == '1'); //++iTest; // ?
	/* 3 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL);}
	else {
		 /* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, "1");
		 /* 3 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL);}
	//iTest = 1; ?
	close(fd); 
}

void test_43_no_nl()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/43_no_nl: ");
	fd = open("gnlTester/files/43_no_nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "0123456789012345678901234567890123456789012");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL);
	close(fd);
}

void test_43_with_nl()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/43_with_nl: ");
	fd = open("gnlTester/files/43_with_nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "012345678901234567890123456789012345678901\n");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, "2");
	/* 3 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL);
	close(fd);
}

void test_multiple_nlx5()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/multiple_nlx5: ");
	fd = open("gnlTester/files/multiple_nlx5", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 3 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 4 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 5 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 6 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL);
	close(fd);
}

void test_multiple_line_no_nl()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/multiple_line_no_nl: ");
	fd = open("gnlTester/files/multiple_line_no_nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "01234567890123456789012345678901234567890\n");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, "987654321098765432109876543210987654321098\n");
	/* 3 */ 
    printf("%d", num_test++); 
    gnl(fd, "0123456789012345678901234567890123456789012\n");
	/* 4 */ 
    printf("%d", num_test++); 
    gnl(fd, "987654321098765432109876543210987654321098\n");
	/* 5 */ 
    printf("%d", num_test++); 
    gnl(fd, "01234567890123456789012345678901234567890");
	/* 6 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL);
	close(fd);
}

void test_multiple_line_with_nl()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/multiple_line_with_nl: ");
	fd = open("gnlTester/files/multiple_line_with_nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "9876543210987654321098765432109876543210\n");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, "01234567890123456789012345678901234567890\n");
	/* 3 */ 
    printf("%d", num_test++); 
    gnl(fd, "987654321098765432109876543210987654321098\n");
	/* 4 */ 
    printf("%d", num_test++); 
    gnl(fd, "01234567890123456789012345678901234567890\n");
	/* 5 */ 
    printf("%d", num_test++); 
    gnl(fd, "9876543210987654321098765432109876543210\n");
	/* 6 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL); 
	close(fd);
}

void test_alternate_line_nl_no_nl()
{
	int fd;
	int num_test;


	num_test = 1;
    title("gnlTester/files/alternate_line_nl_no_nl: ");
	fd = open("gnlTester/files/alternate_line_nl_no_nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "98765432109876543210987654321098765432109\n");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 3 */ 
    printf("%d", num_test++); 
    gnl(fd, "012345678901234567890123456789012345678901\n");
	/* 4 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 5 */ 
    printf("%d", num_test++); 
    gnl(fd, "9876543210987654321098765432109876543210987\n");
	/* 6 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 7 */ 
    printf("%d", num_test++); 
    gnl(fd, "012345678901234567890123456789012345678901\n");
	/* 8 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 9 */ 
    printf("%d", num_test++); 
    gnl(fd, "98765432109876543210987654321098765432109");
	/* 10 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL);
	close(fd);
}

void test_alternate_line_nl_with_nl()
{
	int fd;
	int num_test;
	
	num_test = 1;
    title("gnlTester/files/alternate_line_nl_with_nl: ");
	fd = open("gnlTester/files/alternate_line_nl_with_nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "01234567890123456789012345678901234567890\n");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 3 */ 
    printf("%d", num_test++); 
    gnl(fd, "987654321098765432109876543210987654321090\n");
	/* 4 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 5 */ 
    printf("%d", num_test++); 
    gnl(fd, "0123456789012345678901234567890123456789012\n");
	/* 6 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 7 */ 
    printf("%d", num_test++); 
    gnl(fd, "987654321098765432109876543210987654321090\n");
	/* 8 */ 
    printf("%d", num_test++); 
    gnl(fd, "\n");
	/* 9 */ 
    printf("%d", num_test++); 
    gnl(fd, "01234567890123456789012345678901234567890\n");
	/* 10 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL); 
	close(fd);
}

void test_big_line_no_nl()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/big_line_no_nl: ");
	fd = open("gnlTester/files/big_line_no_nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
   gnl(fd,"0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789");
    /* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL); 
	close(fd);
}
void test_big_line_with_nl()
{
	int fd;
	int num_test;

	num_test = 1;
    title("gnlTester/files/big_line_with_nl: ");
	fd = open("gnlTester/files/big_line_with_nl", O_RDWR);
	/* 1 */ 
    printf("%d", num_test++); 
    gnl(fd, "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789\n");
	/* 2 */ 
    printf("%d", num_test++); 
    gnl(fd, NULL); close(fd);
}

void test_stdin()
{
	int fd;
	int num_test;

    title("stdin: ");
	fd = open("gnlTester/files/alternate_line_nl_with_nl", O_RDWR);
	
	/* 1 */ 
	char *got;
	got = get_next_line(0);
    section("--");
		COLOR_WARNING;

		printf("\t(got)\t`");
		str_printf_chars(got);
		printf("`");
		COLOR_DEFAULT;
		section("--");
	
	write(1, "\n", 1);
	free(got);
}
